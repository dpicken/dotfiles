#!/bin/sh

if [ "$1" = "--help" ]; then
  echo "Usage: $0 [--local] [<opacity%>]"
  exit
fi

if [ "$1" = "--local" ]; then
  id="-id $WINDOWID"
  shift
fi

opacity=${1:-0.75}

opacity_scaled=$(echo "$opacity*4294967295"|bc)
opacity_hex=$(printf "0x%x" ${opacity_scaled%.*})
xprop -f _NET_WM_WINDOW_OPACITY 32c -set _NET_WM_WINDOW_OPACITY $opacity_hex $id
